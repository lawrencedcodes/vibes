(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{602:(e,s,r)=>{Promise.resolve().then(r.bind(r,5659))},6046:(e,s,r)=>{"use strict";var t=r(6658);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},5659:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(5155),a=r(2115),i=r(6046),o=r(8173),n=r.n(o);function l(){let e=(0,i.useRouter)(),[s,r]=(0,a.useState)({email:"",password:"",confirmPassword:"",first_name:"",last_name:"",role:""}),[o,l]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),c=e=>{let{name:s,value:t}=e.target;r(e=>({...e,[s]:t}))},u=async r=>{if(r.preventDefault(),l(""),s.password!==s.confirmPassword){l("Passwords do not match");return}m(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password,first_name:s.first_name,last_name:s.last_name,role:s.role})}),t=await r.json();if(!r.ok)throw Error(t.error||"Registration failed");e.push("/register/success")}catch(e){l(e.message)}finally{m(!1)}};return(0,t.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your Tech Connect account"}),(0,t.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,t.jsx)(n(),{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your existing account"})]})]}),o&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,t.jsx)("p",{children:o})})]})})}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,t.jsx)("input",{id:"first_name",name:"first_name",type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.first_name,onChange:c})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,t.jsx)("input",{id:"last_name",name:"last_name",type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.last_name,onChange:c})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.email,onChange:c})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.password,onChange:c})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.confirmPassword,onChange:c})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I want to"}),(0,t.jsxs)("select",{id:"role",name:"role",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.role,onChange:c,children:[(0,t.jsx)("option",{value:"",children:"Select your role"}),(0,t.jsx)("option",{value:"teacher",children:"Teach others (Teacher)"}),(0,t.jsx)("option",{value:"learner",children:"Learn from others (Learner)"})]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:d,className:"group relative flex w-full justify-center rounded-md bg-indigo-600 py-2 px-3 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-400",children:d?"Creating account...":"Create account"})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[554,441,517,358],()=>s(602)),_N_E=e.O()}]);